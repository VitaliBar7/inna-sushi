<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inna Sushi | Experience</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Assistant:wght@200;300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Assistant", sans-serif;
        background-color: #0f0f0f;
        color: #e5e5e5;
        transition: all 0.3s ease;
      }
      .premium-glass {
        background: rgba(18, 18, 18, 0.95);
        backdrop-filter: blur(20px);
      }
      .menu-card {
        background: #161616;
        border: 1px solid #262626;
        transition: all 0.3s ease;
        border-radius: 1.5rem;
      }
      .menu-card:hover {
        border-color: #a3e635;
        transform: translateY(-3px);
      }
      .hero-gradient {
        background: linear-gradient(
          to bottom,
          rgba(15, 15, 15, 0) 0%,
          rgba(15, 15, 15, 1) 100%
        );
      }
      .lang-btn.active {
        color: #a3e635;
        border-bottom: 2px solid #a3e635;
      }
      .gallery-img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 1rem;
      }
      input,
      textarea,
      select {
        background: #1a1a1a !important;
        border: 1px solid #333 !important;
        color: white !important;
        outline: none;
        border-radius: 0.75rem !important;
      }
      .modal-bg {
        background: rgba(0, 0, 0, 0.9);
      }
    </style>
  </head>
  <body class="pb-32">
    <audio
      id="click-sound"
      src="https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3"
      preload="auto"
    ></audio>

    <div
      id="reminder-modal"
      class="fixed inset-0 z-[100] flex items-center justify-center p-4 modal-bg transition-opacity duration-300"
    >
      <div
        class="bg-stone-900 border border-lime-500/30 p-8 rounded-3xl max-w-sm w-full text-center shadow-2xl"
      >
        <div class="text-5xl mb-4">â³</div>
        <h3 id="modal-title" class="text-2xl font-bold mb-2 text-lime-400">
          ×”×–×× ×” ×™×•× ××¨××©
        </h3>
        <p id="modal-text" class="text-gray-300 mb-6 font-light text-lg">
          ×›×“×™ ×œ×”×‘×˜×™×— ×˜×¨×™×•×ª, ×× ×• ××§×‘×œ×™× ×”×–×× ×•×ª ×œ×¤×—×•×ª ×™×•× ××—×“ ××¨××©.
        </p>
        <button
          onclick="closeModal()"
          id="modal-btn"
          class="w-full bg-lime-500 text-black font-bold py-4 rounded-2xl shadow-lg active:scale-95 transition-transform"
        >
          ×”×‘× ×ª×™, ×ª×•×“×”!
        </button>
      </div>
    </div>

    <nav
      class="fixed top-0 w-full z-50 px-6 py-4 flex justify-between items-center premium-glass border-b border-white/5"
    >
      <span class="font-bold tracking-tighter text-xl uppercase"
        >INNA<span class="text-lime-400">SUSHI</span></span
      >
      <div class="flex gap-4 text-xs font-bold uppercase tracking-widest">
        <button
          onclick="setLanguage('he')"
          id="btn-he"
          class="lang-btn active p-1"
        >
          ×¢×‘
        </button>
        <button onclick="setLanguage('ru')" id="btn-ru" class="lang-btn p-1">
          RU
        </button>
        <button onclick="setLanguage('en')" id="btn-en" class="lang-btn p-1">
          EN
        </button>
      </div>
    </nav>

    <header class="relative h-[60vh] w-full overflow-hidden">
      <img
        src="https://images.unsplash.com/photo-1579871494447-9811cf80d66c?auto=format&fit=crop&w=1200&q=80"
        class="w-full h-full object-cover"
        alt="Sushi Hero"
      />
      <div class="absolute inset-0 hero-gradient"></div>
      <div class="absolute bottom-12 w-full text-center px-6">
        <h2
          id="hero-title"
          class="text-4xl font-light tracking-widest uppercase mb-2"
        >
          Japanese Experience
        </h2>
        <p id="hero-subtitle" class="text-gray-400 text-sm italic">
          Premium Handmade Sushi
        </p>
      </div>
    </header>

    <main class="max-w-5xl mx-auto px-6 mt-8">
      <div
        class="border border-lime-500/30 bg-lime-500/5 p-4 rounded-2xl text-center mb-10"
      >
        <p
          id="remind-text"
          class="text-lime-400 text-sm font-bold tracking-wide"
        >
          ×”×–×× ×•×ª ×™×•× ××¨××© ×‘×œ×‘×“ | ××©×œ×•×—×™× ×—×™× × ×‘××¢×œ×•×ª
        </p>
      </div>

      <div id="menu-grid" class="grid gap-6 md:grid-cols-2"></div>

      <section class="mt-20">
        <h3
          id="gallery-label"
          class="text-center text-gray-500 uppercase tracking-[0.3em] text-xs mb-8 font-bold"
        >
          Our Kitchen
        </h3>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
          <img
            src="https://images.unsplash.com/photo-1579584425555-c3ce17fd4351?w=400&h=400&fit=crop"
            class="gallery-img shadow-lg"
          />
          <img
            src="https://images.unsplash.com/photo-1553621042-f6e147245754?w=400&h=400&fit=crop"
            class="gallery-img shadow-lg"
          />
          <img
            src="https://images.unsplash.com/photo-1617196034183-421b4917c92d?w=400&h=400&fit=crop"
            class="gallery-img shadow-lg"
          />
          <img
            src="https://images.unsplash.com/photo-1583623025817-d180a2221d0a?w=400&h=400&fit=crop"
            class="gallery-img shadow-lg"
          />
        </div>
      </section>

      <footer
        class="mt-20 mb-10 p-10 bg-stone-800/20 rounded-[2rem] border border-white/5 text-center"
      >
        <h4 class="font-bold text-lime-400 mb-4 uppercase tracking-widest">
          Inna Sushi ××¢×œ×•×ª
        </h4>
        <p class="text-gray-400 text-sm mb-2">
          × ×™×ª×Ÿ ×œ×©×œ× ×‘-Bit, ×¤×™×™×‘×•×§×¡ ××• ××–×•××Ÿ ğŸ“±
        </p>
        <p class="text-xs text-gray-500">
          ×›×œ ×”×× ×•×ª ××•×›× ×•×ª ×‘×™×•× ×”×”×–×× ×” ××—×•××¨×™ ×”×’×œ× ×”×˜×¨×™×™× ×‘×™×•×ª×¨
        </p>
        <div
          class="mt-6 pt-6 border-t border-white/5 flex justify-center gap-6"
        >
          <a
            href="tel:0587659001"
            class="text-gray-400 hover:text-white transition-colors"
            >058-7659001</a
          >
          <span class="text-gray-700">|</span>
          <span class="text-gray-500 text-xs">Â© 2024 INNA SUSHI</span>
        </div>
      </footer>
    </main>

    <div
      id="mini-cart"
      class="fixed bottom-0 w-full premium-glass border-t border-lime-500/30 p-6 transform translate-y-full transition-all duration-300 z-40"
    >
      <div class="max-w-4xl mx-auto flex justify-between items-center">
        <div>
          <span
            id="mini-cart-items"
            class="text-[10px] uppercase tracking-widest text-gray-500 block"
            >Selection</span
          >
          <span
            id="mini-cart-total"
            class="text-3xl font-light tracking-tighter"
            >â‚ª0</span
          >
        </div>
        <button
          onclick="openOrderForm()"
          id="checkout-btn"
          class="bg-lime-500 text-black px-10 py-4 rounded-2xl font-bold uppercase text-[10px] tracking-widest active:scale-95 transition-all shadow-lg shadow-lime-500/20"
        >
          ×œ×”×–×× ×”
        </button>
      </div>
    </div>

    <div
      id="order-overlay"
      class="fixed inset-0 z-[60] bg-[#0f0f0f] hidden flex flex-col p-8 overflow-y-auto"
    >
      <div class="max-w-xl mx-auto w-full">
        <div class="flex justify-between items-center mb-6">
          <h2
            id="form-title"
            class="text-2xl font-light uppercase tracking-widest"
          >
            Order Details
          </h2>
          <button onclick="closeOrderForm()" class="text-gray-500 text-4xl">
            &times;
          </button>
        </div>

        <div
          id="cart-summary-list"
          class="mb-10 space-y-4 bg-stone-900/50 p-4 rounded-2xl border border-white/5"
        ></div>

        <div class="space-y-4">
          <input
            type="text"
            id="cust-name"
            class="w-full p-4"
            placeholder="×©× ××œ×"
          />
          <input
            type="tel"
            id="cust-phone"
            class="w-full p-4"
            placeholder="×˜×œ×¤×•×Ÿ"
          />

          <select
            id="cust-city"
            class="w-full p-4"
            onchange="toggleAddressField()"
          >
            <option value="××¢×œ×•×ª">××¢×œ×•×ª (××©×œ×•×— ×—×™× ×)</option>
            <option value="×ª×¨×©×™×—×">×ª×¨×©×™×—× (××™×¡×•×£ ×¢×¦××™)</option>
            <option value="×›×¤×¨ ×•×¨×“×™×">×›×¤×¨ ×•×¨×“×™× (××™×¡×•×£ ×¢×¦××™)</option>
            <option value="××—×¨">××—×¨ (××™×¡×•×£ ×¢×¦××™)</option>
          </select>

          <div id="address-wrapper">
            <input
              type="text"
              id="cust-address"
              class="w-full p-4"
              placeholder="×¨×—×•×‘ ×•××¡×¤×¨ ×‘×™×ª"
            />
          </div>

          <textarea
            id="cust-notes"
            class="w-full p-4 h-24"
            placeholder="×”×¢×¨×•×ª ××™×•×—×“×•×ª..."
          ></textarea>

          <div
            class="flex justify-between items-center py-4 border-t border-white/10"
          >
            <span class="uppercase tracking-widest text-xs text-gray-400"
              >Total:</span
            >
            <span
              id="final-total-display"
              class="text-2xl font-bold text-lime-400"
              >â‚ª0</span
            >
          </div>

          <button
            onclick="sendWhatsApp()"
            id="submit-btn"
            class="w-full bg-green-600 text-white py-5 rounded-2xl font-bold uppercase tracking-widest shadow-xl"
          >
            ×©×œ×— ×‘×•×•××˜×¡××¤
          </button>
        </div>
      </div>
    </div>

    <script>
      const translations = {
        he: {
          heroTitle: "×—×•×•×™×” ×™×¤× ×™×ª",
          heroSub: "×¡×•×©×™ ×¤×¨×™××™×•× ×‘×¢×‘×•×“×ª ×™×“",
          remind: "×”×–×× ×•×ª ×™×•× ××¨××© ×‘×œ×‘×“ | ××©×œ×•×—×™× ×—×™× × ×‘××¢×œ×•×ª",
          gallery: "×”××˜×‘×— ×©×œ× ×•",
          checkout: "×œ×”×–×× ×”",
          selection: "×¤×¨×™×˜×™× ×‘×¡×œ",
          formTitle: "×¡×™×›×•× ×”×–×× ×”",
          name: "×©× ××œ×",
          phone: "×˜×œ×¤×•×Ÿ",
          address: "×›×ª×•×‘×ª",
          notes: "×”×¢×¨×•×ª ×œ×”×–×× ×”",
          submit: "×©×œ×— ×‘×•×•××˜×¡××¤",
          dir: "rtl",
          mTitle: "×”×–×× ×” ×™×•× ××¨××©",
          mText: "×›×“×™ ×œ×”×‘×˜×™×— ×˜×¨×™×•×ª, ×× ×• ××§×‘×œ×™× ×”×–×× ×•×ª ×œ×¤×—×•×ª ×™×•× ××—×“ ××¨××©.",
          mBtn: "×”×‘× ×ª×™, ×ª×•×“×”!",
        },
        en: {
          heroTitle: "Japanese Experience",
          heroSub: "Premium Handmade Sushi",
          remind: "Orders 1 day in advance | Free delivery in Ma'alot",
          gallery: "Our Kitchen",
          checkout: "Checkout",
          selection: "Items",
          formTitle: "Order Summary",
          name: "Full Name",
          phone: "Phone",
          address: "Address",
          notes: "Special Notes",
          submit: "Send WhatsApp",
          dir: "ltr",
          mTitle: "Order in Advance",
          mText:
            "To ensure maximum freshness, please place orders at least 1 day ahead.",
          mBtn: "Got it, thanks!",
        },
        ru: {
          heroTitle: "Ğ¯Ğ¿Ğ¾Ğ½ÑĞºĞ°Ñ ĞšÑƒÑ…Ğ½Ñ",
          heroSub: "ĞŸÑ€ĞµĞ¼Ğ¸ÑƒĞ¼ ÑÑƒÑˆĞ¸ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹",
          remind: "Ğ—Ğ°ĞºĞ°Ğ· Ğ·Ğ° 1 Ğ´ĞµĞ½ÑŒ | Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ°Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° Ğ² ĞœĞ°Ğ°Ğ»Ğ¾Ñ‚",
          gallery: "ĞĞ°ÑˆĞ° ĞšÑƒÑ…Ğ½Ñ",
          checkout: "Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ",
          selection: "Ğ’Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ¾",
          formTitle: "Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ·Ğ°ĞºĞ°Ğ·Ğ°",
          name: "Ğ˜Ğ¼Ñ",
          phone: "Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½",
          address: "ĞĞ´Ñ€ĞµÑ",
          notes: "Ğ—Ğ°Ğ¼ĞµÑ‚ĞºĞ¸",
          submit: "Ğ’ WhatsApp",
          dir: "ltr",
          mTitle: "Ğ—Ğ°ĞºĞ°Ğ· Ğ·Ğ°Ñ€Ğ°Ğ½ĞµĞµ",
          mText:
            "Ğ§Ñ‚Ğ¾Ğ±Ñ‹ Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ²ĞµĞ¶ĞµÑÑ‚ÑŒ, Ğ¼Ñ‹ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµĞ¼ Ğ·Ğ°ĞºĞ°Ğ·Ñ‹ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ Ğ·Ğ° Ğ´ĞµĞ½ÑŒ.",
          mBtn: "ĞŸĞ¾Ğ½ÑÑ‚Ğ½Ğ¾!",
        },
      };

      const menuData = [
        {
          id: 1,
          he: "×’×¨×™×Ÿ ×“×¨×§×•×Ÿ",
          en: "Green Dragon",
          ru: "Ğ—ĞµĞ»ĞµĞ½Ñ‹Ğ¹ Ğ”Ñ€Ğ°ĞºĞ¾Ğ½",
          price: 45,
          desc_he: "××•×¨×–, × ×•×¨×™, ×©×¨×™××¤×¡, ××‘×•×§×“×•, ×’×‘×™× ×”",
          desc_en: "Rice, Nori, Shrimp, Avocado, Cheese",
          desc_ru: "Ğ Ğ¸Ñ, Ğ½Ğ¾Ñ€Ğ¸, ĞºÑ€ĞµĞ²ĞµÑ‚ĞºĞ°, Ğ°Ğ²Ğ¾ĞºĞ°Ğ´Ğ¾, ÑÑ‹Ñ€",
        },
        {
          id: 2,
          he: "×¤×™×œ×“×œ×¤×™×”",
          en: "Philadelphia",
          ru: "Ğ¤Ğ¸Ğ»Ğ°Ğ´ĞµĞ»ÑŒÑ„Ğ¸Ñ",
          price: 45,
          desc_he: "×¡×œ××•×Ÿ, ×’×‘×™× ×ª ×©×× ×ª, ××œ×¤×¤×•×Ÿ",
          desc_en: "Salmon, Cream cheese, Cucumber",
          desc_ru: "Ğ›Ğ¾ÑĞ¾ÑÑŒ, ÑĞ»Ğ¸Ğ²Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ ÑÑ‹Ñ€, Ğ¾Ğ³ÑƒÑ€ĞµÑ†",
        },
        {
          id: 3,
          he: "×¤×™×œ×“×œ×¤×™×” ×¡×œ××•×Ÿ ×©×¨×™××¤×¡",
          en: "Philadelphia Salmon Shrimp",
          ru: "Ğ¤Ğ¸Ğ»Ğ°Ğ´ĞµĞ»ÑŒÑ„Ğ¸Ñ Ğ›Ğ¾ÑĞ¾ÑÑŒ ĞšÑ€ĞµĞ²ĞµÑ‚ĞºĞ°",
          price: 50,
          desc_he: "×¡×œ××•×Ÿ, ×’×‘×™× ×”, ××œ×¤×¤×•×Ÿ, ×©×¨×™××¤×¡",
          desc_en: "Salmon, Cheese, Cucumber, Shrimp",
          desc_ru: "Ğ›Ğ¾ÑĞ¾ÑÑŒ, ÑÑ‹Ñ€, Ğ¾Ğ³ÑƒÑ€ĞµÑ†, ĞºÑ€ĞµĞ²ĞµÑ‚ĞºĞ°",
        },
        {
          id: 4,
          he: "×§×œ×™×¤×•×¨× ×™×” ×¡×¨×˜×Ÿ ×©×œ×’",
          en: "California Snow Crab",
          ru: "ĞšĞ°Ğ»Ğ¸Ñ„Ğ¾Ñ€Ğ½Ğ¸Ñ Ğ¡Ğ½ĞµĞ¶Ğ½Ñ‹Ğ¹ ĞšÑ€Ğ°Ğ±",
          price: 35,
          desc_he: "××•×¨×–, × ×•×¨×™, ×©×•××©×•×, ×¡×¨×˜×Ÿ ×©×œ×’",
          desc_en: "Rice, Nori, Sesame, Snow Crab",
          desc_ru: "Ğ Ğ¸Ñ, Ğ½Ğ¾Ñ€Ğ¸, ĞºÑƒĞ½Ğ¶ÑƒÑ‚, ÑĞ½ĞµĞ¶Ğ½Ñ‹Ğ¹ ĞºÑ€Ğ°Ğ±",
        },
        {
          id: 5,
          he: "×¡×œ××•×Ÿ ×§×œ×™×¤×•×¨× ×™×”",
          en: "Salmon California",
          ru: "Ğ›Ğ¾ÑĞ¾ÑÑŒ ĞšĞ°Ğ»Ğ¸Ñ„Ğ¾Ñ€Ğ½Ğ¸Ñ",
          price: 45,
          desc_he: "×¡×œ××•×Ÿ, ×’×‘×™× ×”, ××œ×¤×¤×•×Ÿ, ×©×•××©×•×",
          desc_en: "Salmon, Cheese, Cucumber, Sesame",
          desc_ru: "Ğ›Ğ¾ÑĞ¾ÑÑŒ, ÑÑ‹Ñ€, Ğ¾Ğ³ÑƒÑ€ĞµÑ†, ĞºÑƒĞ½Ğ¶ÑƒÑ‚",
        },
        {
          id: 6,
          he: "×©×¨×™××¤×¡ ×§×œ×™×¤×•×¨× ×™×”",
          en: "Shrimp California",
          ru: "ĞšÑ€ĞµĞ²ĞµÑ‚ĞºĞ° ĞšĞ°Ğ»Ğ¸Ñ„Ğ¾Ñ€Ğ½Ğ¸Ñ",
          price: 45,
          desc_he: "×©×¨×™××¤×¡, ×’×‘×™× ×ª ×©×× ×ª, ×©×•××©×•×",
          desc_en: "Shrimp, Cream cheese, Sesame",
          desc_ru: "ĞšÑ€ĞµĞ²ĞµÑ‚ĞºĞ°, ÑĞ»Ğ¸Ğ²Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ ÑÑ‹Ñ€, ĞºÑƒĞ½Ğ¶ÑƒÑ‚",
        },
        {
          id: 7,
          he: "×¨×•×œ ×˜××¤×•×¨×”",
          en: "Tempura Roll",
          ru: "Ğ¢ĞµĞ¼Ğ¿ÑƒÑ€Ğ° Ğ Ğ¾Ğ»Ğ»",
          price: 55,
          desc_he: "×¨×•×œ ×—× ×‘×˜××¤×•×¨×”: ×¡×œ××•×Ÿ, ×’×‘×™× ×” ×•××‘×•×§×“×•",
          desc_en: "Hot Tempura Roll: Salmon, Cheese, Avocado",
          desc_ru: "Ğ“Ğ¾Ñ€ÑÑ‡Ğ¸Ğ¹ Ğ¢ĞµĞ¼Ğ¿ÑƒÑ€Ğ° Ğ Ğ¾Ğ»Ğ»: Ğ›Ğ¾ÑĞ¾ÑÑŒ, ÑÑ‹Ñ€, Ğ°Ğ²Ğ¾ĞºĞ°Ğ´Ğ¾",
        },
        {
          id: 8,
          he: "×¡×œ××•×Ÿ ×¤×•×˜×•×××§×™",
          en: "Salmon Futomaki",
          ru: "Ğ›Ğ¾ÑĞ¾ÑÑŒ Ğ¤ÑƒÑ‚Ğ¾Ğ¼Ğ°ĞºĞ¸",
          price: 40,
          desc_he: "×¡×œ××•×Ÿ, ××œ×¤×¤×•×Ÿ, ×’×‘×™× ×”, ××‘×•×§×“×•",
          desc_en: "Salmon, Cucumber, Cheese, Avocado",
          desc_ru: "Ğ›Ğ¾ÑĞ¾ÑÑŒ, Ğ¾Ğ³ÑƒÑ€ĞµÑ†, ÑÑ‹Ñ€, Ğ°Ğ²Ğ¾ĞºĞ°Ğ´Ğ¾",
        },
      ];

      let currentLang = "he";
      let cart = {};

      function setLanguage(lang) {
        currentLang = lang;
        document.body.dir = translations[lang].dir;
        document.getElementById("hero-title").innerText =
          translations[lang].heroTitle;
        document.getElementById("hero-subtitle").innerText =
          translations[lang].heroSub;
        document.getElementById("remind-text").innerText =
          translations[lang].remind;
        document.getElementById("gallery-label").innerText =
          translations[lang].gallery;
        document.getElementById("checkout-btn").innerText =
          translations[lang].checkout;
        document.getElementById("mini-cart-items").innerText =
          translations[lang].selection;
        document.getElementById("form-title").innerText =
          translations[lang].formTitle;
        document.getElementById("cust-name").placeholder =
          translations[lang].name;
        document.getElementById("cust-phone").placeholder =
          translations[lang].phone;
        document.getElementById("cust-notes").placeholder =
          translations[lang].notes;
        document.getElementById("submit-btn").innerText =
          translations[lang].submit;
        document.getElementById("modal-title").innerText =
          translations[lang].mTitle;
        document.getElementById("modal-text").innerText =
          translations[lang].mText;
        document.getElementById("modal-btn").innerText =
          translations[lang].mBtn;
        document
          .querySelectorAll(".lang-btn")
          .forEach((b) => b.classList.remove("active"));
        document.getElementById("btn-" + lang).classList.add("active");
        renderMenu();
      }

      function closeModal() {
        document.getElementById("reminder-modal").classList.add("hidden");
      }
      function toggleAddressField() {
        const city = document.getElementById("cust-city").value;
        document.getElementById("address-wrapper").style.display =
          city === "××¢×œ×•×ª" ? "block" : "none";
      }

      function renderMenu() {
        const grid = document.getElementById("menu-grid");
        grid.innerHTML = menuData
          .map((item) => {
            const qty = cart[item.id] ? cart[item.id].qty : 0;
            return `
                <div class="menu-card p-6 flex flex-col justify-between">
                    <div>
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-lg font-bold uppercase tracking-tight">${
                              item[currentLang]
                            }</h3>
                            <span class="text-lime-400 font-bold">â‚ª${
                              item.price
                            }</span>
                        </div>
                        <p class="text-gray-500 text-xs italic leading-relaxed">${
                          item["desc_" + currentLang]
                        }</p>
                    </div>
                    <div class="flex items-center justify-end gap-5 mt-6">
                        <button onclick="updateQty(${
                          item.id
                        }, -1)" class="text-gray-500 hover:text-white text-xl">-</button>
                        <span class="text-sm font-bold min-w-[20px] text-center">${qty}</span>
                        <button onclick="updateQty(${
                          item.id
                        }, 1)" class="w-10 h-10 border border-gray-700 rounded-xl hover:border-lime-400 transition-all font-bold">+</button>
                    </div>
                </div>`;
          })
          .join("");
      }

      function updateQty(id, change) {
        document
          .getElementById("click-sound")
          .play()
          .catch(() => {});
        if (!cart[id] && change > 0)
          cart[id] = { ...menuData.find((m) => m.id === id), qty: 1 };
        else if (cart[id]) {
          cart[id].qty += change;
          if (cart[id].qty <= 0) delete cart[id];
        }
        renderMenu();
        updateMiniCart();
        if (
          !document.getElementById("order-overlay").classList.contains("hidden")
        ) {
          renderCartSummary(); // Refresh summary if open
        }
      }

      function updateMiniCart() {
        const total = Object.values(cart).reduce(
          (s, i) => s + i.price * i.qty,
          0
        );
        const items = Object.values(cart).reduce((s, i) => s + i.qty, 0);
        const bar = document.getElementById("mini-cart");
        if (items > 0) {
          bar.classList.remove("translate-y-full");
          document.getElementById("mini-cart-total").innerText = `â‚ª${total}`;
        } else {
          bar.classList.add("translate-y-full");
          closeOrderForm(); // Close form if cart becomes empty
        }
      }

      function renderCartSummary() {
        const list = document.getElementById("cart-summary-list");
        const totalDisplay = document.getElementById("final-total-display");
        let total = 0;

        list.innerHTML = Object.values(cart)
          .map((i) => {
            total += i.price * i.qty;
            return `
                <div class="flex justify-between items-center py-2 border-b border-white/5 last:border-0">
                    <div class="flex-grow">
                        <span class="block text-sm font-bold">${i[currentLang]}</span>
                        <span class="text-[10px] text-gray-500">â‚ª${i.price} / ×™×—'</span>
                    </div>
                    <div class="flex items-center gap-4">
                        <div class="flex items-center gap-2 border border-gray-700 rounded-lg px-2 py-1">
                            <button onclick="updateQty(${i.id}, -1)" class="text-gray-400 hover:text-white">-</button>
                            <span class="text-xs font-bold w-4 text-center">${i.qty}</span>
                            <button onclick="updateQty(${i.id}, 1)" class="text-gray-400 hover:text-white">+</button>
                        </div>
                        <button onclick="deleteFromCart(${i.id})" class="text-gray-600 hover:text-red-500 transition-colors">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                        </button>
                    </div>
                </div>`;
          })
          .join("");
        totalDisplay.innerText = `â‚ª${total}`;
      }

      function deleteFromCart(id) {
        delete cart[id];
        renderMenu();
        updateMiniCart();
        renderCartSummary();
      }

      function openOrderForm() {
        document.getElementById("order-overlay").classList.remove("hidden");
        toggleAddressField();
        renderCartSummary();
      }

      function closeOrderForm() {
        document.getElementById("order-overlay").classList.add("hidden");
      }

      function clearWebsite() {
        cart = {};
        document.getElementById("cust-name").value = "";
        document.getElementById("cust-phone").value = "";
        document.getElementById("cust-address").value = "";
        document.getElementById("cust-notes").value = "";
        renderMenu();
        updateMiniCart();
        closeOrderForm();
      }

      function sendWhatsApp() {
        const name = document.getElementById("cust-name").value;
        const city = document.getElementById("cust-city").value;
        const addr = document.getElementById("cust-address").value;
        if (!name) return alert("× × ×œ××œ× ×©×");
        if (city === "××¢×œ×•×ª" && !addr) return alert("× × ×œ××œ× ×›×ª×•×‘×ª");

        let msg = `*NEW ORDER - INNA SUSHI*\nğŸ‘¤ ×©×: ${name}\nğŸ“ ×˜×œ×¤×•×Ÿ: ${
          document.getElementById("cust-phone").value
        }\nğŸ“ ×¢×™×¨: ${city}\n`;
        if (city === "××¢×œ×•×ª") msg += `ğŸ  ×›×ª×•×‘×ª: ${addr}\n`;
        else msg += `ğŸš© *××™×¡×•×£ ×¢×¦××™*\n`;
        msg += `\n*×× ×•×ª:*\n`;
        Object.values(cart).forEach(
          (i) => (msg += `â–ªï¸ ${i[currentLang]} x${i.qty}\n`)
        );
        msg += `\n*×¡×”"×›: â‚ª${Object.values(cart).reduce(
          (s, i) => s + i.price * i.qty,
          0
        )}*`;

        window.open(
          `https://wa.me/972587659001?text=${encodeURIComponent(msg)}`,
          "_blank"
        );

        // ××™×¤×•×¡ ×”××ª×¨ ×œ××—×¨ ×”×©×œ×™×—×”
        setTimeout(clearWebsite, 1000);
      }

      setLanguage("he");
    </script>
  </body>
</html>
